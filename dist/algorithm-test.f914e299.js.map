{"version":3,"sources":["js/algorithm-test.js","../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["parking_data","parking_info","parking_id","name","lng","lat","free_space","$","document","ready","previous_location","user_location","selected_result","tmplt_route_result","Handlebars","compile","html","tmplt_parking_info","tmplt_search_result","$main_panel","$results_panel","initMap","showCurrentInformation","on","showRoutesList","resultOnClick","removeClass","addClass","console","log","data","mapboxgl","accessToken","map","Map","container","style","center","zoom","geocoder","MapboxGeocoder","mapOnLoad","mapOnClick","addMarker","add_markers","getElementById","value","css","ev","result","e","marker","remove","lngLat","ltlng","event","Marker","draggable","color","setLngLat","addTo","onDragEnd","coordinates","geojson","forEach","getLngLat","fetch","getMatrixUri","then","json","res","processResult","predictFreeSpaces","tf","loadLayersModel","model","i","features_list","length","tensor","day","time","is_raining","traffic","print","catch","err","message","destinations","now","Date","setMinutes","getMinutes","Math","ceil","durations","getHours","month","getMonth","date","getDate","getDay","floor","random","is_snowing","push","getUriString","source","destination","path","drawRoute","route","geometry","type","properties","getSource","setData","addLayer","id","layout","paint","getRoute","start","end","url","req","XMLHttpRequest","responseType","open","onload","response","routes","send","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","body","appendChild","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"algorithm-test.f914e299.js","sourceRoot":"..","sourcesContent":["\n\n// from api :  /parking (get)\nparking_data ={\n\tparking_info : [\n\t\t{\n\t\t\tparking_id : 0,\n\t\t\tname : \"Name 1\",\n\t\t\tlng : 11.034922771803195,\n\t\t\tlat : 50.97425921864834,\n\t\t\tfree_space : 3\n\t\t},\n\t\t{\n\t\t\tparking_id : 1,\n\t\t\tname : \"Name 2\",\n\t\t\tlng : 11.03747937655794,\n\t\t\tlat : 50.97473007957376,\n\t\t\tfree_space : 0\n\t\t},\n\t\t{\n\t\t\tparking_id : 2,\n\t\t\tname : \"Name 3\",\n\t\t\tlng : 11.032400727497446,\n\t\t\tlat : 50.97426419894839,\n\t\t\tfree_space : 5\n\t\t}\n\t]\n} \n\n// import * as tf from '@tensorflow/tfjs';\n// model = tf.loadModel('mlmodels/model.json');\n// document.onload = async() => {\n\t\n// };\n\n$(document).ready(function(){\n\tprevious_location = [[11.034922771803195, 50.97425921864834],[11.03747937655794, 50.97473007957376], [11.032400727497446, 50.97426419894839]];\n\tuser_location = [11.03283, 50.9787];\n\tselected_result = null;\n\ttmplt_route_result = Handlebars.compile($(\"#route-result-template\").html());\n\ttmplt_parking_info = Handlebars.compile($(\"#osd-initial-template\").html());\n\ttmplt_search_result = Handlebars.compile($(\"#osd-search-template\").html());\n\t$main_panel = $('#osd-main');\n\t$results_panel = $(\"#route-result\");\n\n\tinitMap();\n\tshowCurrentInformation();\n\t$main_panel.on(\"click\", \".osd-btn-find\", showRoutesList);\n\t$main_panel.on(\"click\", \".osd-route-result\", resultOnClick)\n});\n\nfunction showCurrentInformation(){\n\t$results_panel.html(tmplt_parking_info(parking_data));\n}\n\nfunction resultOnClick(){\n\tif(selected_result != null){\n\t\tselected_result.removeClass(\"focus\");\n\t}\n\tselected_result = $(this);\n\tselected_result.addClass(\"focus\");\n\tconsole.log($(this).data(\"lng\") + \", \" + $(this).data(\"lat\"));\n\t// \n}\n\nfunction initMap(){\n\tmapboxgl.accessToken = 'pk.eyJ1IjoidGFudmVlcjY5IiwiYSI6ImNqcmgwdGdpeTA3M2g0M25uNWYwbjZ2a3EifQ.wRjnyEoPjV7eLzmAl0v9Kg';\n    map = new mapboxgl.Map({container: 'map',style: 'mapbox://styles/mapbox/streets-v11',center : user_location,zoom : 12});\n    geocoder = new MapboxGeocoder({accessToken: mapboxgl.accessToken});\n    \n    map.on('load', mapOnLoad);\n    map.on('click', mapOnClick);\n}\n\nfunction mapOnLoad(){\n\taddMarker(user_location,'load');\n    add_markers(previous_location);\n            \n\tdocument.getElementById(\"lat\").value = user_location[1];\n\tdocument.getElementById(\"lng\").value = user_location[0];\n\t//console.log('lng: ' + user_location[0] + '<br />lat: ' + user_location[1]);\n\t$(\"#coordinates\").css('display', 'block');\n    $(\"#coordinates\").html('lng: ' + user_location[0] + '<br />lat: ' + user_location[1]);\n\n    geocoder.on('result', function(ev) {\n        console.log(ev.result.center);\n\n    });\n}\n\nfunction mapOnClick(e){\n\tmarker.remove();\n    addMarker(e.lngLat,'click');\n    \n    //console.log(e.lngLat.lat);\n    document.getElementById(\"lat\").value = e.lngLat.lat;\n    document.getElementById(\"lng\").value = e.lngLat.lng;\n    user_location[0] = e.lngLat.lat;\n    user_location[1] = e.lngLat.lng;\n    $(\"#coordinates\").css('display', 'block');\n    $(\"#coordinates\").html('lng: ' + e.lngLat.lng + '<br />lat: ' + e.lngLat.lat);\n}\n\nfunction addMarker(ltlng,event) {\n    if(event === 'click'){\n        user_location = ltlng;\n    }\n    marker = new mapboxgl.Marker({draggable: true,color:\"#d02922\"})\n        .setLngLat(user_location)\n        .addTo(map)\n        .on('dragend', onDragEnd);\n}\n\nfunction add_markers(coordinates) {\n    var geojson = (previous_location == coordinates ? previous_location : '');\n    console.log(geojson);\n    geojson.forEach(function (marker) {\n      console.log(marker);\n      new mapboxgl.Marker()\n          .setLngLat(marker)\n          .addTo(map);\n    });\n\n}\n\nfunction onDragEnd() {\n    var lngLat = marker.getLngLat();\n    document.getElementById(\"lat\").value = lngLat.lat;\n    document.getElementById(\"lng\").value = lngLat.lng;\n    console.log('lng: ' + lngLat.lng + '<br />lat: ' + lngLat.lat);\n    $(\"#coordinates\").css('display', 'block');\n    $(\"#coordinates\").html('lng: ' + lngLat.lng + '<br />lat: ' + lngLat.lat);\n}  \n\nfunction showRoutesList(){\n\tfetch(getMatrixUri(user_location, previous_location))\n\t  .then(data=>{return data.json()})\n\t  .then(res=>{\n\t    console.log(res)\n\n\t    // $(\"route-result\").html(resultsTmpl(res.destinations))\n\t    processResult(res)\n\t    predictFreeSpaces();\n\t    $results_panel.html(tmplt_search_result(res));\n\t    // for(var i = 0 ; i < res.destinations.length; i++)\n\t    //   $(\"#route-result\").append(tmplt_route_result(res.destinations[i]))\n\n\t  });\n}\n\nfunction predictFreeSpaces(){\n\ttf.loadLayersModel('./mlmodels/model.json').then( model => {\n\t\tconsole.log(\"model paise\");\n\tfor(var i = 0 ; i < features_list.length; i++){\n\t\tvar tensor = tf.tensor([features_list[i].day, features_list[i].time, features_list[i].parking_id,\n\t\t\tfeatures_list[i].is_raining , features_list[i].traffic]);\n\t\ttensor.print();\n\n\t}\n\t}).catch(function (err) {\n    // This will fix your error since you are now handling the error thrown by your first catch block\n    console.log(err.message)\n});\n\t\n}\n\nfunction processResult(res){\n\tfeatures_list = [];\n\tfor(var i = 0 ; i < res.destinations.length; i++){\n\t\tnow = new Date();\n\t\tnow.setMinutes(now.getMinutes() + Math.ceil(res.durations[0][i]/60))\n\t\tdata = {};\n\t\tconsole.log(now);\n\t\tdata.parking_id = parking_data.parking_info[i].parking_id;\n\t\tdata.time = now.getHours() * 2 + ((now.getMinutes() > 30) ? 1 : 0);\n\t\tdata.month = now.getMonth();\n\t\tdata.date = now.getDate();\n\t\tdata.day = now.getDay();\n\t\tdata.traffic = Math.floor(Math.random() * 4);\n\t\tdata.is_snowing = Math.floor(Math.random() * 2);\n\t\tdata.is_raining = Math.floor(Math.random() * 2);\n\t\tfeatures_list.push(data);\n\t\t// predict here\n\t\t// save result\n\t}\n\n\tconsole.log(features_list);\n}\n\nfunction getUriString(source, destination){\n    var path = \"https://api.mapbox.com/directions/v5/mapbox/driving-traffic/\";\n    path += source[0] + \"%2C\" + source[1] + \"%2B\" + destination[0] + \"%2C\" + destination[1];\n    path += \".json&access_token=pk.eyJ1IjoidGFudmVlcjY5IiwiYSI6ImNqcmgwdGdpeTA3M2g0M25uNWYwbjZ2a3EifQ.wRjnyEoPjV7eLzmAl0v9Kg\";\n    return path;\n  } \n\nfunction getMatrixUri(source, destinations){\n\tvar path = \"https://api.mapbox.com/directions-matrix/v1/mapbox/driving/\";\n\tpath += source[0] + \",\" + source[1];\n\tfor(var i = 0 ; i < destinations.length; i++){\n\t  path += \";\" + destinations[i][0] + \",\" + destinations[i][1];\n\t}\n\tpath += \"?sources=0&destinations=1\";\n\tfor(var i = 1; i < destinations.length; i++)\n\t  path += \";\" + (i+1);\n\tpath += \"&access_token=pk.eyJ1IjoidGFudmVlcjY5IiwiYSI6ImNqcmgwdGdpeTA3M2g0M25uNWYwbjZ2a3EifQ.wRjnyEoPjV7eLzmAl0v9Kg\";\n\n\treturn path;\n}\n\nfunction drawRoute(data){\n\tvar route = data.geometry.coordinates;\n\tvar geojson = {\n\t\ttype: 'Feature',\n\t\tproperties: {},\n\t\tgeometry: {\n\t\t  type: 'LineString',\n\t\t  coordinates: route\n\t\t}\n\t};\n\t// if the route already exists on the map, reset it using setData\n\tif (false) {\n\t\tmap.getSource('route').setData(geojson);\n\t} else { // otherwise, make a new request\n\t\tmap.addLayer({\n\t\t  id: 'route',\n\t\t  type: 'line',\n\t\t  source: {\n\t\t    type: 'geojson',\n\t\t    data: {\n\t\t      type: 'Feature',\n\t\t      properties: {},\n\t\t      geometry: {\n\t\t        type: 'LineString',\n\t\t        coordinates: geojson\n\t\t      }\n\t\t    }\n\t\t  },\n\t\t  layout: {\n\t\t    'line-join': 'round',\n\t\t    'line-cap': 'round'\n\t\t  },\n\t\t  paint: {\n\t\t    'line-color': '#3887be',\n\t\t    'line-width': 5,\n\t\t    'line-opacity': 0.75\n\t\t  }\n\t\t});\n\t}\n}\n\nfunction getRoute(start, end) {\n// make a directions request using cycling profile\n// an arbitrary start will always be the same\n// only the end or destination will change\nvar url = 'https://api.mapbox.com/directions/v5/mapbox/cycling/' + start[0] + ',' + start[1] + ';' + end[0] + ',' + end[1] + '?steps=true&geometries=geojson&access_token=' + mapboxgl.accessToken;\n\n// make an XHR request https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\nvar req = new XMLHttpRequest();\nreq.responseType = 'json';\nreq.open('GET', url, true);\nreq.onload = function() {\n  var data = req.response.routes[0];\n  var route = data.geometry.coordinates;\n  var geojson = {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: route\n    }\n  };\n  // if the route already exists on the map, reset it using setData\n  if (map.getSource('route')) {\n    map.getSource('route').setData(geojson);\n  }else { // otherwise, make a new request\n\t\tmap.addLayer({\n\t\t  id: 'route',\n\t\t  type: 'line',\n\t\t  source: {\n\t\t    type: 'geojson',\n\t\t    data: {\n\t\t      type: 'Feature',\n\t\t      properties: {},\n\t\t      geometry: {\n\t\t        type: 'LineString',\n\t\t        coordinates: geojson\n\t\t      }\n\t\t    }\n\t\t  },\n\t\t  layout: {\n\t\t    'line-join': 'round',\n\t\t    'line-cap': 'round'\n\t\t  },\n\t\t  paint: {\n\t\t    'line-color': '#3887be',\n\t\t    'line-width': 5,\n\t\t    'line-opacity': 0.75\n\t\t  }\n\t\t});\n  }\n  // add turn instructions here at the end\n};\nreq.send();\n}\n\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}